{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucapetini/Desktop/Workspace/Progetti%20Personali/Luca%20Petini/lucapetini-portfolio/src/utils/utils.ts"],"sourcesContent":["import fs from \"fs\";\nimport path from \"path\";\nimport matter from \"gray-matter\";\n\ntype Team = {\n  name: string;\n  role: string;\n  avatar: string;\n  linkedIn: string;\n};\n\ntype Metadata = {\n  title: string;\n  subtitle?: string;\n  publishedAt: string;\n  summary: string;\n  image?: string;\n  images: string[];\n  tag?: string;\n  team: Team[];\n  link?: string;\n};\n\nimport { notFound } from \"next/navigation\";\n\nfunction getMDXFiles(dir: string) {\n  if (!fs.existsSync(dir)) {\n    notFound();\n  }\n\n  return fs.readdirSync(dir).filter((file) => path.extname(file) === \".mdx\");\n}\n\nfunction readMDXFile(filePath: string) {\n  if (!fs.existsSync(filePath)) {\n    notFound();\n  }\n\n  const rawContent = fs.readFileSync(filePath, \"utf-8\");\n  const { data, content } = matter(rawContent);\n\n  const metadata: Metadata = {\n    title: data.title || \"\",\n    subtitle: data.subtitle || \"\",\n    publishedAt: data.publishedAt,\n    summary: data.summary || \"\",\n    image: data.image || \"\",\n    images: data.images || [],\n    tag: data.tag || [],\n    team: data.team || [],\n    link: data.link || \"\",\n  };\n\n  return { metadata, content };\n}\n\nfunction getMDXData(dir: string) {\n  const mdxFiles = getMDXFiles(dir);\n  return mdxFiles.map((file) => {\n    const { metadata, content } = readMDXFile(path.join(dir, file));\n    const slug = path.basename(file, path.extname(file));\n\n    return {\n      metadata,\n      slug,\n      content,\n    };\n  });\n}\n\nexport function getPosts(customPath = [\"\", \"\", \"\", \"\"]) {\n  const postsDir = path.join(process.cwd(), ...customPath);\n  return getMDXData(postsDir);\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AAqBA;AAAA;;;;;AAEA,SAAS,YAAY,GAAW;IAC9B,IAAI,CAAC,wGAAE,CAAC,UAAU,CAAC,MAAM;QACvB,IAAA,iMAAQ;IACV;IAEA,OAAO,wGAAE,CAAC,WAAW,CAAC,KAAK,MAAM,CAAC,CAAC,OAAS,4GAAI,CAAC,OAAO,CAAC,UAAU;AACrE;AAEA,SAAS,YAAY,QAAgB;IACnC,IAAI,CAAC,wGAAE,CAAC,UAAU,CAAC,WAAW;QAC5B,IAAA,iMAAQ;IACV;IAEA,MAAM,aAAa,wGAAE,CAAC,YAAY,CAAC,UAAU;IAC7C,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,kJAAM,EAAC;IAEjC,MAAM,WAAqB;QACzB,OAAO,KAAK,KAAK,IAAI;QACrB,UAAU,KAAK,QAAQ,IAAI;QAC3B,aAAa,KAAK,WAAW;QAC7B,SAAS,KAAK,OAAO,IAAI;QACzB,OAAO,KAAK,KAAK,IAAI;QACrB,QAAQ,KAAK,MAAM,IAAI,EAAE;QACzB,KAAK,KAAK,GAAG,IAAI,EAAE;QACnB,MAAM,KAAK,IAAI,IAAI,EAAE;QACrB,MAAM,KAAK,IAAI,IAAI;IACrB;IAEA,OAAO;QAAE;QAAU;IAAQ;AAC7B;AAEA,SAAS,WAAW,GAAW;IAC7B,MAAM,WAAW,YAAY;IAC7B,OAAO,SAAS,GAAG,CAAC,CAAC;QACnB,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAE,GAAG,YAAY,4GAAI,CAAC,IAAI,CAAC,KAAK;QACzD,MAAM,OAAO,4GAAI,CAAC,QAAQ,CAAC,MAAM,4GAAI,CAAC,OAAO,CAAC;QAE9C,OAAO;YACL;YACA;YACA;QACF;IACF;AACF;AAEO,SAAS,SAAS,aAAa;IAAC;IAAI;IAAI;IAAI;CAAG;IACpD,MAAM,WAAW,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,OAAO;IAC7C,OAAO,WAAW;AACpB"}},
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucapetini/Desktop/Workspace/Progetti%20Personali/Luca%20Petini/lucapetini-portfolio/src/utils/formatDate.ts"],"sourcesContent":["export function formatDate(date: string, includeRelative = false) {\n  const currentDate = new Date();\n\n  if (!date.includes(\"T\")) {\n    date = `${date}T00:00:00`;\n  }\n\n  const targetDate = new Date(date);\n  const yearsAgo = currentDate.getFullYear() - targetDate.getFullYear();\n  const monthsAgo = currentDate.getMonth() - targetDate.getMonth();\n  const daysAgo = currentDate.getDate() - targetDate.getDate();\n\n  let formattedDate = \"\";\n\n  if (yearsAgo > 0) {\n    formattedDate = `${yearsAgo}y ago`;\n  } else if (monthsAgo > 0) {\n    formattedDate = `${monthsAgo}mo ago`;\n  } else if (daysAgo > 0) {\n    formattedDate = `${daysAgo}d ago`;\n  } else {\n    formattedDate = \"Today\";\n  }\n\n  const fullDate = targetDate.toLocaleString(\"en-us\", {\n    month: \"long\",\n    day: \"numeric\",\n    year: \"numeric\",\n  });\n\n  if (!includeRelative) {\n    return fullDate;\n  }\n\n  return `${fullDate} (${formattedDate})`;\n}\n"],"names":[],"mappings":";;;;AAAO,SAAS,WAAW,IAAY,EAAE,kBAAkB,KAAK;IAC9D,MAAM,cAAc,IAAI;IAExB,IAAI,CAAC,KAAK,QAAQ,CAAC,MAAM;QACvB,OAAO,GAAG,KAAK,SAAS,CAAC;IAC3B;IAEA,MAAM,aAAa,IAAI,KAAK;IAC5B,MAAM,WAAW,YAAY,WAAW,KAAK,WAAW,WAAW;IACnE,MAAM,YAAY,YAAY,QAAQ,KAAK,WAAW,QAAQ;IAC9D,MAAM,UAAU,YAAY,OAAO,KAAK,WAAW,OAAO;IAE1D,IAAI,gBAAgB;IAEpB,IAAI,WAAW,GAAG;QAChB,gBAAgB,GAAG,SAAS,KAAK,CAAC;IACpC,OAAO,IAAI,YAAY,GAAG;QACxB,gBAAgB,GAAG,UAAU,MAAM,CAAC;IACtC,OAAO,IAAI,UAAU,GAAG;QACtB,gBAAgB,GAAG,QAAQ,KAAK,CAAC;IACnC,OAAO;QACL,gBAAgB;IAClB;IAEA,MAAM,WAAW,WAAW,cAAc,CAAC,SAAS;QAClD,OAAO;QACP,KAAK;QACL,MAAM;IACR;IAEA,IAAI,CAAC,iBAAiB;QACpB,OAAO;IACT;IAEA,OAAO,GAAG,SAAS,EAAE,EAAE,cAAc,CAAC,CAAC;AACzC"}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucapetini/Desktop/Workspace/Progetti%20Personali/Luca%20Petini/lucapetini-portfolio/src/components/work/Projects.tsx"],"sourcesContent":["import { getPosts } from \"@/utils/utils\";\nimport { Column } from \"@once-ui-system/core\";\nimport { ProjectCard } from \"@/components\";\n\ninterface ProjectsProps {\n  range?: [number, number?];\n  exclude?: string[];\n}\n\nexport function Projects({ range, exclude }: ProjectsProps) {\n  let allProjects = getPosts([\"src\", \"app\", \"work\", \"projects\"]);\n\n  // Exclude by slug (exact match)\n  if (exclude && exclude.length > 0) {\n    allProjects = allProjects.filter((post) => !exclude.includes(post.slug));\n  }\n\n  const sortedProjects = allProjects.sort((a, b) => {\n    return new Date(b.metadata.publishedAt).getTime() - new Date(a.metadata.publishedAt).getTime();\n  });\n\n  const displayedProjects = range\n    ? sortedProjects.slice(range[0] - 1, range[1] ?? sortedProjects.length)\n    : sortedProjects;\n\n  return (\n    <Column fillWidth gap=\"xl\" marginBottom=\"40\" paddingX=\"l\">\n      {displayedProjects.map((post, index) => (\n        <ProjectCard\n          priority={index < 2}\n          key={post.slug}\n          href={`/work/${post.slug}`}\n          images={post.metadata.images}\n          title={post.metadata.title}\n          description={post.metadata.summary}\n          content={post.content}\n          avatars={post.metadata.team?.map((member) => ({ src: member.avatar })) || []}\n          link={post.metadata.link || \"\"}\n        />\n      ))}\n    </Column>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AACA;AAAA;;;;;AAOO,SAAS,SAAS,EAAE,KAAK,EAAE,OAAO,EAAiB;IACxD,IAAI,cAAc,IAAA,iIAAQ,EAAC;QAAC;QAAO;QAAO;QAAQ;KAAW;IAE7D,gCAAgC;IAChC,IAAI,WAAW,QAAQ,MAAM,GAAG,GAAG;QACjC,cAAc,YAAY,MAAM,CAAC,CAAC,OAAS,CAAC,QAAQ,QAAQ,CAAC,KAAK,IAAI;IACxE;IAEA,MAAM,iBAAiB,YAAY,IAAI,CAAC,CAAC,GAAG;QAC1C,OAAO,IAAI,KAAK,EAAE,QAAQ,CAAC,WAAW,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,QAAQ,CAAC,WAAW,EAAE,OAAO;IAC9F;IAEA,MAAM,oBAAoB,QACtB,eAAe,KAAK,CAAC,KAAK,CAAC,EAAE,GAAG,GAAG,KAAK,CAAC,EAAE,IAAI,eAAe,MAAM,IACpE;IAEJ,qBACE,8OAAC,yKAAM;QAAC,SAAS;QAAC,KAAI;QAAK,cAAa;QAAK,UAAS;kBACnD,kBAAkB,GAAG,CAAC,CAAC,MAAM,sBAC5B,8OAAC,gJAAW;gBACV,UAAU,QAAQ;gBAElB,MAAM,CAAC,MAAM,EAAE,KAAK,IAAI,EAAE;gBAC1B,QAAQ,KAAK,QAAQ,CAAC,MAAM;gBAC5B,OAAO,KAAK,QAAQ,CAAC,KAAK;gBAC1B,aAAa,KAAK,QAAQ,CAAC,OAAO;gBAClC,SAAS,KAAK,OAAO;gBACrB,SAAS,KAAK,QAAQ,CAAC,IAAI,EAAE,IAAI,CAAC,SAAW,CAAC;wBAAE,KAAK,OAAO,MAAM;oBAAC,CAAC,MAAM,EAAE;gBAC5E,MAAM,KAAK,QAAQ,CAAC,IAAI,IAAI;eAPvB,KAAK,IAAI;;;;;;;;;;AAYxB"}},
    {"offset": {"line": 191, "column": 0}, "map": {"version":3,"sources":["file:///Users/lucapetini/Desktop/Workspace/Progetti%20Personali/Luca%20Petini/lucapetini-portfolio/src/app/work/%5Bslug%5D/page.tsx"],"sourcesContent":["import { notFound } from \"next/navigation\";\nimport { getPosts } from \"@/utils/utils\";\nimport {\n  Meta,\n  Schema,\n  AvatarGroup,\n  Button,\n  Column,\n  Flex,\n  Heading,\n  Media,\n  Text,\n  SmartLink,\n  Row,\n  Avatar,\n  Line,\n} from \"@once-ui-system/core\";\nimport { baseURL, about, person, work } from \"@/resources\";\nimport { formatDate } from \"@/utils/formatDate\";\nimport { ScrollToHash, CustomMDX } from \"@/components\";\nimport { Metadata } from \"next\";\nimport { Projects } from \"@/components/work/Projects\";\n\nexport async function generateStaticParams(): Promise<{ slug: string }[]> {\n  const posts = getPosts([\"src\", \"app\", \"work\", \"projects\"]);\n  return posts.map((post) => ({\n    slug: post.slug,\n  }));\n}\n\nexport async function generateMetadata({\n  params,\n}: {\n  params: Promise<{ slug: string | string[] }>;\n}): Promise<Metadata> {\n  const routeParams = await params;\n  const slugPath = Array.isArray(routeParams.slug)\n    ? routeParams.slug.join(\"/\")\n    : routeParams.slug || \"\";\n\n  const posts = getPosts([\"src\", \"app\", \"work\", \"projects\"]);\n  let post = posts.find((post) => post.slug === slugPath);\n\n  if (!post) return {};\n\n  return Meta.generate({\n    title: post.metadata.title,\n    description: post.metadata.summary,\n    baseURL: baseURL,\n    image: post.metadata.image || `/api/og/generate?title=${post.metadata.title}`,\n    path: `${work.path}/${post.slug}`,\n  });\n}\n\nexport default async function Project({\n  params,\n}: {\n  params: Promise<{ slug: string | string[] }>;\n}) {\n  const routeParams = await params;\n  const slugPath = Array.isArray(routeParams.slug)\n    ? routeParams.slug.join(\"/\")\n    : routeParams.slug || \"\";\n\n  let post = getPosts([\"src\", \"app\", \"work\", \"projects\"]).find((post) => post.slug === slugPath);\n\n  if (!post) {\n    notFound();\n  }\n\n  const avatars =\n    post.metadata.team?.map((person) => ({\n      src: person.avatar,\n    })) || [];\n\n  return (\n    <Column as=\"section\" maxWidth=\"m\" horizontal=\"center\" gap=\"l\">\n      <Schema\n        as=\"blogPosting\"\n        baseURL={baseURL}\n        path={`${work.path}/${post.slug}`}\n        title={post.metadata.title}\n        description={post.metadata.summary}\n        datePublished={post.metadata.publishedAt}\n        dateModified={post.metadata.publishedAt}\n        image={\n          post.metadata.image || `/api/og/generate?title=${encodeURIComponent(post.metadata.title)}`\n        }\n        author={{\n          name: person.name,\n          url: `${baseURL}${about.path}`,\n          image: `${baseURL}${person.avatar}`,\n        }}\n      />\n      <Column maxWidth=\"s\" gap=\"16\" horizontal=\"center\" align=\"center\">\n        <SmartLink href=\"/work\">\n          <Text variant=\"label-strong-m\">Projects</Text>\n        </SmartLink>\n        <Text variant=\"body-default-xs\" onBackground=\"neutral-weak\" marginBottom=\"12\">\n          {post.metadata.publishedAt && formatDate(post.metadata.publishedAt)}\n        </Text>\n        <Heading variant=\"display-strong-m\">{post.metadata.title}</Heading>\n      </Column>\n      <Row marginBottom=\"32\" horizontal=\"center\">\n        <Row gap=\"16\" vertical=\"center\">\n          {post.metadata.team && <AvatarGroup reverse avatars={avatars} size=\"s\" />}\n          <Text variant=\"label-default-m\" onBackground=\"brand-weak\">\n            {post.metadata.team?.map((member, idx) => (\n              <span key={idx}>\n                {idx > 0 && (\n                  <Text as=\"span\" onBackground=\"neutral-weak\">\n                    ,{\" \"}\n                  </Text>\n                )}\n                <SmartLink href={member.linkedIn}>{member.name}</SmartLink>\n              </span>\n            ))}\n          </Text>\n        </Row>\n      </Row>\n      {post.metadata.images.length > 0 && (\n        <Media priority aspectRatio=\"16 / 9\" radius=\"m\" alt=\"image\" src={post.metadata.images[0]} />\n      )}\n      <Column style={{ margin: \"auto\" }} as=\"article\" maxWidth=\"xs\">\n        <CustomMDX source={post.content} />\n      </Column>\n      <Column fillWidth gap=\"40\" horizontal=\"center\" marginTop=\"40\">\n        <Line maxWidth=\"40\" />\n        <Heading as=\"h2\" variant=\"heading-strong-xl\" marginBottom=\"24\">\n          Related projects\n        </Heading>\n        <Projects exclude={[post.slug]} range={[2]} />\n      </Column>\n      <ScrollToHash />\n    </Column>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}