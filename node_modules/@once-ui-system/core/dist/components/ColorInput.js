"use client";
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { useRef, forwardRef } from "react";
import { Flex, Input, IconButton, Icon } from ".";
const ColorInput = forwardRef(({ label, id, value, onChange, ...props }, ref) => {
    const colorInputRef = useRef(null);
    const handleHexClick = () => {
        if (colorInputRef.current) {
            colorInputRef.current.click();
        }
    };
    const handleReset = () => {
        onChange({
            target: { value: "" },
        });
    };
    return (_jsx(Input, { style: { cursor: "pointer" }, id: id, ref: colorInputRef, label: label, type: "color", value: value, ...props, hasPrefix: _jsxs(Flex, { children: [_jsx(Flex, { width: value ? "0" : "20", opacity: value ? 0 : 100, transition: "micro-medium", style: {
                        transform: value ? "scale(0)" : "scale(1)",
                    }, children: _jsx(Icon, { marginLeft: "4", padding: "2", size: "xs", name: "eyeDropper", onBackground: "neutral-medium" }) }), _jsx(Flex, { border: "neutral-strong", className: `prefix ${value ? "" : "hidden"}`, onClick: handleHexClick, height: "20", marginLeft: "4", width: value ? "20" : "0", cursor: "interactive", radius: "xs", opacity: value ? 100 : 0, transition: "micro-medium", style: {
                        backgroundColor: value,
                        transform: value ? "scale(1)" : "scale(0)",
                    } })] }), hasSuffix: _jsxs(Flex, { className: `suffix ${value ? "" : "hidden"}`, position: "absolute", cursor: "interactive", left: "48", style: {
                width: "calc(100% - var(--static-space-48))",
            }, children: [_jsx(Flex, { onClick: handleHexClick, fillWidth: true, opacity: value ? 100 : 0, transition: "micro-medium", children: value }), value && (_jsx(Flex, { position: "absolute", right: "12", style: {
                        transform: "translateY(-50%)",
                    }, children: _jsx(IconButton, { onClick: handleReset, variant: "secondary", tooltip: "Remove", tooltipPosition: "left", icon: "close" }) }))] }), onChange: onChange }));
});
ColorInput.displayName = "ColorInput";
export { ColorInput };
//# sourceMappingURL=ColorInput.js.map